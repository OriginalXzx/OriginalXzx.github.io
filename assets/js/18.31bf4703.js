(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{463:function(t,s,a){"use strict";a.r(s);var e=a(1),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"algorithm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#algorithm"}},[t._v("#")]),t._v(" Algorithm")]),t._v(" "),a("p",[t._v("Manacher算法，又叫“马拉车”算法，可以在时间复杂度为O(n)的情况下求解一个字符串的最长回文子串长度的问题。\n本次算法还没有彻底研究透，后续会理解透彻，补上自己的见解。")]),t._v(" "),a("h2",{attrs:{id:"review"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#review"}},[t._v("#")]),t._v(" Review")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.eversql.com/choosing-the-best-indexes-for-mysql-query-optimization/"}},[t._v("Choosing the best indexes for MySQL query optimization\n")])]),t._v(" "),a("h2",{attrs:{id:"tip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tip"}},[t._v("#")]),t._v(" Tip")]),t._v(" "),a("p",[t._v("百万级数据mysql分页优化tips：\n如果对于有where 条件，又想走索引用limit的，必须设计一个索引，将where 放第一位，limit用到的主键放第2位，而且只能select 主键！\n举例：")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("UserID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("OfflineActivityID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("PeriodID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Status")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" GPA_OfflineActivitySeckillPush\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" PeriodID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-05-20 10:00:00"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Status")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])]),a("ul",[a("li",[t._v("未加PeriodID与Status字段联合索引，耗时：210ms")]),t._v(" "),a("li",[t._v("加PeriodID与Status字段联合索引，耗时：442ms")]),t._v(" "),a("li",[t._v("加ID,PeriodID与Status字段联合索引,耗时：491")])]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ID\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" GPA_OfflineActivitySeckillPush\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" PeriodID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-05-20 10:00:00"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Status")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])]),a("ul",[a("li",[t._v("加ID,PeriodID与Status字段联合索引,耗时：189ms")])]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("UserID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("OfflineActivityID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("PeriodID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Status")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" GPA_OfflineActivitySeckillPush\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("耗时：40ms")]),t._v(" "),a("h2",{attrs:{id:"share"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#share"}},[t._v("#")]),t._v(" Share")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/qWrSyzJ54YEw8sLCxAEKlA"}},[t._v("深度 | API 设计最佳实践的思考")])])])}),[],!1,null,null,null);s.default=r.exports}}]);